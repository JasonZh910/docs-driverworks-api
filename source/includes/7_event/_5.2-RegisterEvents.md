
## RegisterEvents

Function to register the History event(s) that will be generated by a given driver, proxy or agent. This information is used to generate a hierarchical taxonomy by the History Agent to organize event filtering and notification triggering. Pre-registering for the events that will be used is beneficial in that Navigator can access the full topology of available events immediately. This API can be invoked in or after OnDriverLateInit.

Note: If the method returns false, there is a possibility it is because the History Agent database is not initialized yet, because of this, all failures activate a retry timer that will re-try the registration every 30 seconds. This is due to the order of driver late initialization. If this device runs lateInit before the History Agent, the registration will fail.

###### Updated  in 3.4.0


### Signature

`C4:RegisterEvents()`


### Parameters

| Parameter | Description                                   |
| --------- | --------------------------------------------- |
| str       | XML string itemizing events to be registered. |


### Returns

| Value | Description                                                                                                                                                                           |
| ----- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| bool  | RX\\\_SUCCESS (0) if events are registered with history agent. RX\\\_FAIL (-1) if there are parameter errors. RX\\\_DISCONNECTED (-6) if the HistoryDb has not finished initializing. |


### Example

Note: The XML string should be HTML escaped to prevent XML processing errors. For example,  use &amp; instead of ampersand character(s) and &quot; instead of embedded quote character(s).


```xml
<events>
     <device id="123"/> 
     <fqname fqn="Room/Device/123"/> 
     <categories> 
       <category name="Category/Experience Name"> 
         <subcategories>
           <subcategory name="Subcategory/DeviceType Name"> 
             <types> 
               <type name="Type/Event Name"/> 
               <type name="Event with &amp; in the name"/> 
               <type name="Event with &quot; in the name"/> 
               <type name="Event with &amp; and &quot; in the name"/> 
             </types> 
           </subcategory>
         </subcategories>
       </category>
     </categories>
   </events>
```

